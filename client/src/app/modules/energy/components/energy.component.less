@map-width: 400px;
@photo-width: 200px;
@header-height: 60px;

:host {
  height: 100%;
  display: flex;
  flex-direction: column;
  & > header {
    flex-shrink: 0;
  }
  & > .body {
    flex-grow: 1;
    height: ~"calc(100% - " @header-height ~")";
  }
  overflow: auto;
}

:host > header {
  display: flex;
  flex-basis: @header-height;
  flex-direction: row;
  align-items: center;
  & > span {
    line-height: @header-height;
  }
}

header > .brand {
  font-size: 1.25em;
  padding: 0 10px;
}

.body > div {
  position: relative;
  min-height: 200px;
  max-height: 500px;
}

.body > .indented-tree-list {
  & > .tabs {
    flex-shrink: 0;
  }
  display: flex;
  flex-direction: column;
  & > app-tree-list {
    overflow: auto;
  }
}
.grid-container {
  display: grid;
  grid-gap: 10px;
  grid-template-columns: @photo-width auto;
  grid-template-areas:
    "photo description"
    "graph graph"
    "map map"
    "tree tree"
    "boxes boxes";
  grid-template-rows: @photo-width @map-width @map-width minmax(auto, @photo-width) @photo-width; 
}

@media(min-width: 1020px) {
  .grid-container {
    display: grid;
    grid-gap: 10px;
    grid-template-columns: @map-width minmax(@map-width, 1fr) @photo-width;
    grid-template-areas:
      "map graph photo"
      "map graph description"
      "tree graph description"
      "tree graph boxes";
  
    grid-template-rows: @photo-width minmax(200px, 1fr) 20% minmax(auto, @map-width);
  }
}
.map {
  grid-area: map;
}
.graph {
  grid-area: graph;
}
.indented-tree-list {
  grid-area: tree;
}
.photo {
  grid-area: photo;
}
.description {
  grid-area: description;
}
.boxes {
  grid-area: boxes;
}

.tabs {
  display: flex;
  & > * {
    cursor: pointer;
    height: 40px;
    line-height: 40px;
    padding: 0 8px;

    .active-hover;
  }
}
.list {
  display: flex;
  flex-direction: column;
  & > * {
    display: flex;
    align-items: center;
    .active-hover;
    height: 40px;

    & > .icon {
      padding: 8px;
    }
  }
}
.list > * > .name {
  line-height: 40px;
  flex-grow: 1;
}

.active-hover {
  &:hover {
    background: #eeeeee;
  }

  &.active {
    background: lightgrey;
    &:hover {
      background: #dedede;
    }
  }
}

.photo {
  position: relative;
  & > img {
    max-width: 100%;
    max-height: 100%;
  }
}
